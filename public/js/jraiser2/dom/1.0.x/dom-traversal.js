/*!
 * jRaiser 2 Javascript Library
 * dom-traversal - v1.0.0 (2013-08-17T21:28:23+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("dom/1.0.x/dom-traversal",["dom/1.0.x/dom-base","dom/1.0.x/sizzle",null],function(e,t,n){"use strict";function s(e,t){return t?i.matches(t,e):e}function o(e,t,n,o){var u=r.isNode(n)?[n]:i(n),a=[];return e.forEach(function(e){while(e=e[t])if(e.nodeType===1){if(u.indexOf(e)!==-1)break;a.push(e)}}),i.uniqueSort(a),t==="parentNode"&&a.reverse(),new e.constructor(s(a,o))}function u(e,t,n,r){var i=[];return e.forEach(function(e){while(e=e[t])if(e.nodeType===1){i.push(e);if(r)break}}),new e.constructor(s(i,n))}var r=e("./dom-base"),i=e("./sizzle");return{shortcuts:{index:function(e){return this.length?e==null?i("> *",this[0].parentNode).indexOf(this[0]):typeof e=="string"?i(e).indexOf(this[0]):this.indexOf(r.isNode(e)?e:e[0]):-1},children:function(e){var t=[];return this.forEach(function(e){var n=e.firstChild;while(n)n.nodeType===1&&t.push(n),n=n.nextSibling}),t.length>1&&i.uniqueSort(t),new this.constructor(s(t,e))},next:function(e){return u(this,"nextSibling",e,!0)},nextAll:function(e){return u(this,"nextSibling",e)},prev:function(e){return u(this,"previousSibling",e,!0)},prevAll:function(e){return u(this,"previousSibling",e)},parent:function(e){return u(this,"parentNode",e,!0)},parents:function(e){return u(this,"parentNode",e)},siblings:function(e){var t=this,n=0;return this.parent().children(e).filter(function(e){for(var r=n;r<t.length;r++)if(t[r]===e)return n++,!1;return!0})},nextUntil:function(e,t){return o(this,"nextSibling",e,t)},prevUntil:function(e,t){return o(this,"previousSibling",e,t)},parentsUntil:function(e,t){return o(this,"parentNode",e,t)}}}})